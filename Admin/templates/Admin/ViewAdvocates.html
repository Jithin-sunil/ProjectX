{% extends 'Admin/Header.html' %}
{% block content %}

<div class="container my-5">

    <!-- New Advocates -->
    <h2 class="text-center mb-4">New Advocates</h2>
    <div class="table-responsive mb-5">
        <table class="table table-bordered table-striped text-center align-middle">
            <thead class="table-dark">
                <tr>
                    <th>SL No</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Photo</th>
                    <th>Proof</th>
                    <th>District</th>
                    <th>Place</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for i in adv %}
                <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{i.advocate_name}}</td>
                    <td>{{i.advocate_email}}</td>
                    <td>{{i.advocate_contact}}</td>
                    <td>{{i.advocate_address}}</td>
                    <td><img src="{{i.advocate_photo.url}}" class="img-thumbnail" width="100"></td>
                    <td><img src="{{i.advocate_proof.url}}" class="img-thumbnail" width="100"></td>
                    <td>{{i.place.district.district_name}}</td>
                    <td>{{i.place.place_name}}</td>
                    <td>
                        <a href="{% url 'Admin:acceptadvocates' i.id %}" class="btn btn-success btn-sm me-1">
                            <i class="fa fa-check"></i> Accept
                        </a>
                        <a href="{% url 'Admin:rejectadvocates' i.id %}" class="btn btn-danger btn-sm">
                            <i class="fa fa-times"></i> Reject
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="10">No new advocates found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Verified Advocates -->
    <h2 class="text-center mb-4">Verified Advocates</h2>
    <div class="table-responsive mb-5">
        <table class="table table-bordered table-striped text-center align-middle">
            <thead class="table-dark">
                <tr>
                    <th>SL No</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Photo</th>
                    <th>Proof</th>
                    <th>District</th>
                    <th>Place</th>
                </tr>
            </thead>
            <tbody>
                {% for i in advver %}
                <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{i.advocate_name}}</td>
                    <td>{{i.advocate_email}}</td>
                    <td>{{i.advocate_contact}}</td>
                    <td>{{i.advocate_address}}</td>
                    <td><img src="{{i.advocate_photo.url}}" class="img-thumbnail" width="100"></td>
                    <td><img src="{{i.advocate_proof.url}}" class="img-thumbnail" width="100"></td>
                    <td>{{i.place.district.district_name}}</td>
                    <td>{{i.place.place_name}}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No verified advocates found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Rejected Advocates -->
    <h2 class="text-center mb-4">Rejected Advocates</h2>
    <div class="table-responsive mb-5">
        <table class="table table-bordered table-striped text-center align-middle">
            <thead class="table-dark">
                <tr>
                    <th>SL No</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Photo</th>
                    <th>Proof</th>
                    <th>District</th>
                    <th>Place</th>
                </tr>
            </thead>
            <tbody>
                {% for i in advrej %}
                <tr>
                    <td>{{forloop.counter}}</td>
                    <td>{{i.advocate_name}}</td>
                    <td>{{i.advocate_email}}</td>
                    <td>{{i.advocate_contact}}</td>
                    <td>{{i.advocate_address}}</td>
                    <td><img src="{{i.advocate_photo.url}}" class="img-thumbnail" width="100"></td>
                    <td><img src="{{i.advocate_proof.url}}" class="img-thumbnail" width="100"></td>
                    <td>{{i.place.district.district_name}}</td>
                    <td>{{i.place.place_name}}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="9">No rejected advocates found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>

{% if msg %}
<script>
    alert("{{msg}}");
    window.location="{% url 'Admin:viewadvocates' %}";
</script>
{% endif %}

{% endblock %}
